(function(g){"use strict";var f=f||{};f.init=function(){f.$body=g(document.body),f.$window=g(window),f.$header=g("#site-header");this.singleProductGallery();this.productImageZoom();f.$body.on("glozin_product_gallery_zoom",function(){f.productImageZoom()});this.productLightBox();this.glozinMore();this.productReview();this.productTabsDropdown();this.addToCartGroupedProductVariable();this.productHighlights()};f.productGallery=function(i,t=g(".woocommerce-product-gallery")){if(typeof Swiper==="undefined"){return}var o=g(window);var r=null;var n=null;function a(e,t){if(e.length<1){return}return new Swiper(e.get(0),t)}function e(e){e.enable()}function s(e){e.disable()}function c(e){var t={loop:false,autoplay:false,speed:800,spaceBetween:30,watchOverflow:true,autoHeight:true,navigation:{nextEl:e.find(".swiper-button-next").get(0),prevEl:e.find(".swiper-button-prev").get(0)},pagination:{el:e.find(".swiper-fraction").get(0),type:"fraction",modifierClass:"swiper-pagination--"},on:{init:function(){e.css("opacity",1);f.$body.trigger("glozin_product_gallery_init");if(this.slides&&this.slides[this.realIndex]&&this.slides[this.realIndex].getAttribute("data-zoom_status")=="false"){this.$el.parent().addClass("swiper-item-current-extra")}},slideChange:function(){if(this.slides&&this.slides[this.realIndex]&&this.slides[this.realIndex].getAttribute("data-zoom_status")=="false"){this.$el.parent().addClass("swiper-item-current-extra")}else{if(this.$el.parent().hasClass("swiper-item-current-extra")){this.$el.parent().removeClass("swiper-item-current-extra")}}},slideChangeTransitionEnd:function(){f.$body.trigger("glozin_product_gallery_slideChangeTransitionEnd")}}};if(n){t.thumbs={swiper:n}}return t}function l(){var e=t.find(".woocommerce-product-gallery__wrapper");e.addClass("woocommerce-product-gallery__slider swiper");e.wrapInner('<div class="swiper-wrapper"></div>');e.find(".swiper-wrapper").after('<span class="glozin-svg-icon glozin-svg-icon__inline glozin-svg-icon--icon-back swiper-button-prev swiper-button"><svg width="24" height="24" aria-hidden="true" role="img" focusable="false"> <use href="#icon-back" xlink:href="#icon-back"></use> </svg></span>');e.find(".swiper-wrapper").after('<span class="glozin-svg-icon glozin-svg-icon__inline glozin-svg-icon--icon-next swiper-button-next swiper-button"><svg width="24" height="24" aria-hidden="true" role="img" focusable="false"> <use href="#icon-next" xlink:href="#icon-next"></use> </svg></span>');e.find(".swiper-wrapper").after('<div class="swiper-fraction d-inline-flex d-none-md position-absolute bottom-15 end-15 pe-none z-2 py-8 px-17 border text-dark bg-light rounded-30 lh-1"></div>');e.find(".woocommerce-product-gallery__image").addClass("swiper-slide");return a(e,c(e))}function d(e){var t={spaceBetween:10,watchOverflow:true,watchSlidesProgress:true,autoHeight:true,on:{init:function(){e.css("opacity",1);f.$body.trigger("glozin_product_thumbnails_init")}}};if(i){t.breakpoints={0:{direction:"horizontal",slidesPerView:5},768:{direction:"vertical",slidesPerView:"auto"}}}else{t.direction="horizontal";t.slidesPerView=6}return t}function u(){var e=t.find(".glozin-product-gallery-thumbnails");e.addClass("swiper");e.wrapInner('<div class="woocommerce-product-thumbnail__nav swiper-wrapper"></div>');e.find(".woocommerce-product-gallery__image").addClass("swiper-slide");return a(e,d(e))}function p(){if(o.width()<768){e(n);e(r)}else{s(n);s(r)}}function m(){t.imagesLoaded(function(){var e=t.find(".glozin-product-gallery-thumbnails");e.appendTo(t);n=u();r=l();if(typeof glozinData.product_gallery_slider!=="undefined"&&!glozinData.product_gallery_slider){t.addClass("woocommerce-product-gallery--reponsive");p();o.on("resize",function(){p()})}})}m()};f.singleProductGallery=function(){var e=g("div.product .woocommerce-product-gallery");if(!e.length){return}if(e.hasClass("woocommerce-product-gallery--vertical")){g(".woocommerce-product-gallery").on("product_thumbnails_slider_vertical wc-product-gallery-after-init",function(){f.productGallery(true)})}if(e.hasClass("woocommerce-product-gallery--horizontal")){f.productGallery(false);g(".woocommerce-product-gallery").on("product_thumbnails_slider_horizontal",function(){f.productGallery(false)})}};f.productImageZoom=function(){if(typeof Drift==="undefined"){return}var e=g(".product-gallery-summary");if(!e){return}if(glozinData.product_image_zoom=="none"){return}var t=e.find(".entry-summary"),i=e.find(".woocommerce-product-gallery__wrapper");if(glozinData.product_image_zoom=="bounding"){if(!t.find(".glozin-product-zoom-wrapper").length){var o=g('<div class="glozin-product-zoom-wrapper" />');t.prepend(o)}else{var o=t.find(".glozin-product-zoom-wrapper")}}var r={containInline:true};if(glozinData.product_image_zoom=="bounding"){r.paneContainer=o.get(0);r.hoverBoundingBox=true;r.zoomFactor=2}if(glozinData.product_image_zoom=="inner"){r.zoomFactor=3}if(glozinData.product_image_zoom=="magnifier"){r.zoomFactor=2;r.inlinePane=true}i.find(".woocommerce-product-gallery__image").each(function(){var e=g(this),t=e.find("img"),i=e.find("a").attr("href");if(e.hasClass("glozin-product-video")||e.data("zoom_status")==false){return}if(glozinData.product_image_zoom=="inner"){r.paneContainer=e.get(0)}t.attr("data-zoom",i);new Drift(t.get(0),r)});g(".single-product div.product .product-gallery-summary .variations_form").on("show_variation hide_variation",function(){var e=g(this).closest(".product-gallery-summary"),t=e.find(".woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image").eq(0),i=t.find("a").attr("href"),o=t.find("img");o.attr("data-zoom",i)})};f.glozinMore=function(){var e=g(document).find(".short-description__content");e.each(function(){if(jQuery(this)[0].scrollHeight>jQuery(this)[0].clientHeight){jQuery(this).siblings(".short-description__more").removeClass("hidden")}});g(document.body).on("click",".short-description__more",function(e){e.preventDefault();var t=g(this).data("settings"),i=t.more,o=t.less;if(g(this).hasClass("less")){g(this).removeClass("less");g(this).text(i);g(this).siblings(".short-description__content").css("-webkit-line-clamp","")}else{g(this).addClass("less");g(this).text(o);g(this).siblings(".short-description__content").css("-webkit-line-clamp","inherit")}})};f.productLightBox=function(){var e=g(".woocommerce-product-gallery");g(".woocommerce-product-gallery__image").on("click","a",function(e){return false});if(!e){return}if(!glozinData.product_image_lightbox){return}t();f.$body.on("glozin_product_gallery_lightbox",function(){t()});g(document).on("click",".glozin-button--product-lightbox",function(e){e.preventDefault();var t=g(".pswp")[0],i=s(g(this).siblings(".woocommerce-product-gallery__wrapper").find(".woocommerce-product-gallery__image")),o=g(this).siblings(".woocommerce-product-gallery__wrapper").find(".swiper-slide-active"),r=0;g.each(i,function(e,t){if(t.src===o.find("a").attr("href")){r=e}});var n=g.extend({index:r,addCaptionHTMLFn:function(e,t){if(!e.title){t.children[0].textContent="";return false}t.children[0].textContent=e.title;return true}},wc_single_product_params.photoswipe_options);var a=new PhotoSwipe(t,PhotoSwipeUI_Default,i,n);a.init()});function t(){g(".woocommerce-product-gallery__image").on("click","a",function(e){return false});e.append('<a href="#" aria-label="Open product lightbox" class="glozin-button--product-lightbox top-15 end-15 position-absolute d-none d-flex-md align-items-center justify-content-center rounded-100 z-2"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="currentColor"> <path d="M0.000357628 13.3636L0.000596046 10.1813C0.000596046 9.82984 0.28544 9.54512 0.636787 9.54512C0.988253 9.54512 1.27286 9.82984 1.27286 10.1814V11.8261L4.96974 8.12603C5.09417 8.00148 5.25721 7.93963 5.42013 7.93963C5.58281 7.93963 5.7455 8.0016 5.8698 8.12591C6.1183 8.37416 6.11853 8.77699 5.87016 9.02549L2.17208 12.7271H3.81643C4.16789 12.7271 4.45274 13.0121 4.45274 13.3637C4.45274 13.715 4.16777 14 3.81643 14H0.636787C0.467907 14 0.306178 13.9329 0.186758 13.8134C0.067338 13.6941 0.000357628 13.532 0.000357628 13.3636ZM0.636668 4.45524C0.988253 4.45524 1.27286 4.16992 1.27286 3.81869V2.17399L4.90777 5.77791C5.1565 6.02641 5.57638 6.02665 5.82487 5.77815C6.07348 5.53002 6.08206 5.12694 5.83381 4.87857L2.23561 1.27286H3.88174H3.88305C4.23452 1.27286 4.51972 0.988133 4.51984 0.636548C4.51995 0.285439 4.23559 0.000356674 3.884 0.000356674L0.70484 0C0.53584 0 0.339906 0.0670996 0.220843 0.186399C0.101542 0.3057 0.000238419 0.467548 0.000238419 0.636189V3.81881C0.000357628 4.17004 0.285321 4.45524 0.636668 4.45524ZM9.09271 5.80592L12.7273 2.17375V3.81881C12.7273 4.17028 13.0065 4.45452 13.3579 4.45452H13.3552C13.7067 4.45452 13.9902 4.16992 13.9902 3.81881L13.99 0.636667C13.99 0.467787 13.9227 0.305939 13.8034 0.186638C13.6838 0.0672178 13.5217 0.000237465 13.353 0.000237465H10.1732C9.82174 0.000237465 9.5369 0.285201 9.5369 0.636548C9.5369 0.988253 9.82186 1.2731 10.1732 1.2731H11.8171L8.18705 4.90646C7.93832 5.15483 7.94153 5.55826 8.19003 5.8064C8.43852 6.05453 8.84409 6.0543 9.09271 5.80592ZM11.8283 12.6698H10.1842C9.8327 12.6698 9.54798 12.9544 9.54798 13.3058C9.54798 13.6574 9.83282 13.9423 10.1842 13.9423L13.3636 13.9426H13.3637C13.5326 13.9426 13.6942 13.8758 13.8137 13.7565C13.9329 13.6372 14 13.4755 14 13.3064L13.9996 10.124C13.9996 9.77299 13.7148 9.48767 13.3635 9.48767C13.012 9.48767 12.7273 9.77299 12.7273 10.124V11.7689L9.05934 8.09802C8.93503 7.97359 8.77199 7.91138 8.60907 7.91138C8.4465 7.91138 8.28358 7.97335 8.1594 8.09766C7.91079 8.34592 7.91043 8.74911 8.15904 8.99784L11.8283 12.6698Z" fill="currentColor"></path></svg></a>')}function s(e){var l=[];if(e.length>0){e.each(function(e,t){var i=g(t).find("img");if(g(t).hasClass("glozin-product-video")){var o=g(t).find(".glozin-video-wrapper").html();if(o.length){var r={html:'<div class="pswp__video">'+o+"</div>"};l.push(r)}}else if(i.length){var n=i.attr("data-large_image"),a=i.attr("data-large_image_width"),s=i.attr("data-large_image_height"),c=i.attr("alt"),r={alt:c,src:n,w:a,h:s,title:i.attr("data-caption")?i.attr("data-caption"):i.attr("title")};l.push(r)}})}return l}};f.productReview=function(){var e=g(".glozin-form-review"),t=e.data("text"),i=e.data("text-cancel"),o=g(".glozin-review-form");if(!e.length){return}if(!o.length){return}e.on("click",function(){if(!e.hasClass("active")){e.addClass("active");e.text(i);o.slideDown()}else{e.removeClass("active");e.text(t);o.slideUp()}})};f.productTabsDropdown=function(){var e=g(".woocommerce-tabs--dropdown");if(!e){return}if(glozinData.product_tabs_layout!=="accordion"){return}e.on("click",".woocommerce-tabs-title",function(){if(g(this).hasClass("active")){if(g(this).closest(".woocommerce-tabs--dropdown").hasClass("wc-tabs-first--opened")){g(this).closest(".woocommerce-tabs--dropdown").removeClass("wc-tabs-first--opened")}g(this).removeClass("active");g(this).siblings(".woocommerce-tabs-content").slideUp(200)}else{g(this).addClass("active");g(this).siblings(".woocommerce-tabs-content").slideDown(200)}});g("a.woocommerce-review-link").on("click",function(){g("#tab-reviews .woocommerce-tabs-title:not(.active)").trigger("click")});if(window.location.href.indexOf("#reviews")>-1){g("#tab-reviews .woocommerce-tabs-title:not(.active)").trigger("click")}};f.addToCartGroupedProductVariable=function(){if(!f.$body.hasClass("single-product")){return}if(!f.$body.find(".woocommerce-grouped-product-list").length){return}var e=g('select[name="variation_id"]');e.on("change",function(){var e=g("option:selected",this),t=e.val(),i=e.data("attributes"),o=e.data("price_html"),r=e.data("image"),n=g(this).closest(".woocommerce-grouped-product-list-item").find(".woocommerce-grouped-product-list-item__price"),a=e.data("stock");if(i!==undefined&&a&&a.stock!=="out_of_stock"){var s={};if(g(this).siblings('input[name^="attribute"]').length){g(this).siblings('input[name^="attribute"]').remove()}if(g(this).siblings('input[name^="variation_ids"]').length){g(this).siblings('input[name^="variation_ids"]').remove()}for(var c in i){s[c]=i[c]}g(this).after('<input type="hidden" name="attributes['+t+']" value="">');g(this).after('<input type="hidden" name="variation_ids['+t+']" value="'+t+'">');g(this).siblings('input[name^="attributes"]').val(JSON.stringify(s))}else{g(this).siblings('input[name^="attribute"]').remove();g(this).siblings('input[name^="variation_ids"]').remove()}if(r){if(g(this).closest(".woocommerce-grouped-product-list-item").find(".variation-image").length){g(this).closest(".woocommerce-grouped-product-list-item").find(".variation-image").remove()}g(this).closest(".woocommerce-grouped-product-list-item").find(".woocommerce-grouped-product-list__thumbnail img").addClass("hidden");g(this).closest(".woocommerce-grouped-product-list-item").find(".woocommerce-grouped-product-list__thumbnail img").after('<img class="variation-image" src="'+r+'">')}else{g(this).closest(".woocommerce-grouped-product-list-item").find(".woocommerce-grouped-product-list__thumbnail img").removeClass("hidden");g(this).closest(".woocommerce-grouped-product-list-item").find(".variation-image").remove()}if(d(t)&&t){g(this).closest(".woocommerce-grouped-product-list__quantity").find("input.qty").attr("name","quantity["+t+"]");n.find(".price").css("display","none");if(n.find(".price-variation-new").length){n.find(".price-variation-new").remove()}n.append('<span class="price-variation-new">'+o+"</span>")}else{t=g(this).closest(".woocommerce-grouped-product-list__quantity").data("grouped_product_id");g(this).closest(".woocommerce-grouped-product-list__quantity").find("input.qty").attr("name","quantity["+t+"]");n.find(".price-variation-new").remove();n.find(".price").removeAttr("style")}if(!a||a.stock=="out_of_stock"){g(this).closest(".woocommerce-grouped-product-list__quantity").find(".quantity").css({"pointer-events":"none",opacity:"0.5"})}else{g(this).closest(".woocommerce-grouped-product-list__quantity").find(".quantity").removeAttr("style")}if(g(this).closest(".woocommerce-grouped-product-list-item").find(".woocommerce-grouped-product-list__title").find(".woocommerce-badge").length){g(this).closest(".woocommerce-grouped-product-list-item").find(".woocommerce-grouped-product-list__title").find(".woocommerce-badge").remove()}if(a&&(a.stock=="out_of_stock"||a.is_pre_order)){var l=a.is_pre_order?"pre-order":"sold-out";g(this).closest(".woocommerce-grouped-product-list-item").find(".woocommerce-grouped-product-list__title a").after('<span class="woocommerce-badge badge-small '+l+'">'+a.button_text+"</span>")}});var e=g('select[name="variation_id"]');if(e.length){e.trigger("change")}function d(e){return!isNaN(e)&&e.trim()!==""}};f.productHighlights=function(){if(!glozinData.product_highlights){return}var r=g(".product-highlights");if(!r.length){return}var n=r.find(".glozin-marquee__inner"),a=r.find(".glozin-marquee__items");n.imagesLoaded(function(){var t,i=(parseInt(Math.ceil(jQuery(window).width()/a.outerWidth(true)))||0)+1,e=r.data("speed"),o=1/parseFloat(e)*(a.outerWidth(true)/350);n.css("--gz-marquee-speed",o+"s");for(let e=1;e<=i;e++){t=a.clone();t.addClass("glozin-marquee--duplicate");t.css("--gz-marquee-index",e.toString());t.appendTo(n)}})};f.init()})(jQuery);