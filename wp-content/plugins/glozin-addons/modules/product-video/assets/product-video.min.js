(function(s){"use strict";function e(){var e=s(".woocommerce-product-gallery"),i=e.find(".glozin-product-gallery-thumbnails"),o=e.find(".woocommerce-product-gallery__image.glozin-product-video");if(o.length>0){var a=o.index();e.addClass("has-video");i.find(".woocommerce-product-gallery__image").eq(a).append('<div class="glozin-i-video"></div>')}s(document.body).on("glozing_product_thumbnails_init glozin_product_quick_view_loaded",function(){var e=s(".woocommerce-product-gallery"),i=e.find(".glozin-product-gallery-thumbnails"),o=e.find(".woocommerce-product-gallery__image.glozin-product-video");if(o.length>0&&!e.addClass("has-video")){var a=o.index();e.addClass("has-video");i.find(".woocommerce-product-gallery__image").eq(a).append('<div class="glozin-i-video"></div>')}});s(document.body).on("click",".glozin-i-video",function(e){e.preventDefault();var i=s(this).closest(".glozin-product-video"),o=i.find(".glozin-video-wrapper");if(o.hasClass("video-youtube")){const a=o.find("iframe").get(0);a.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");if(!s(this).closest(".product-video-loop-thumbnail").length){a.contentWindow.postMessage('{"event":"command","func":"unMute","args":""}',"*")}}else if(o.hasClass("video-vimeo")){const a=o.find("iframe").get(0);a.contentWindow.postMessage('{"method":"play","value":""}',"*");if(!s(this).closest(".product-video-loop-thumbnail").length){a.contentWindow.postMessage('{"method":"setVolume","value":1}',"*")}}else{const t=o.find("video").get(0);if(!s(this).closest(".product-video-loop-thumbnail").length){if(typeof t.muted!=="undefined"){t.muted=false}if(typeof t.volume!=="undefined"){t.volume=1}}t.play()}i.addClass("glozin-product-video-play")});s(document.body).on("glozin_product_gallery_init glozin_product_gallery_quickview_init",function(){var e=s(".woocommerce-product-gallery__wrapper"),i=e.find(".swiper-slide");i.each(function(){var e=s(this).closest(".glozin-product-video"),i=s(this).find(".glozin-video-wrapper");if(i.hasClass("video-autoplay")){e.addClass("glozin-product-video-play")}if(s(this).hasClass("swiper-slide-active")){if(i.length>0){if(i.hasClass("video-youtube")){if(i.hasClass("video-autoplay")){i.find("iframe").attr("src",i.find("iframe").attr("src")+"&enablejsapi=1&playsinline=1&mute=1&playerapiid=ytplayer&showinfo=0&fs=0&modestbranding=0&rel=0&loop=1&html5=1&autoplay=1")}else{i.find("iframe").attr("src",i.find("iframe").attr("src")+"&enablejsapi=1&playsinline=1&mute=1&playerapiid=ytplayer&showinfo=0&fs=0&modestbranding=0&rel=0&loop=1&html5=1")}}else if(i.hasClass("video-vimeo")){i.find("iframe").attr("src",i.find("iframe").attr("src")+"&api=1&autoplay=1&muted=1&loop=1")}}}else{if(i.length>0){if(i.hasClass("video-youtube")){i.find("iframe").attr("src",i.find("iframe").attr("src")+"&enablejsapi=1&playsinline=1&mute=1&playerapiid=ytplayer&showinfo=0&fs=0&modestbranding=0&rel=0&loop=1&html5=1")}else if(i.hasClass("video-vimeo")){i.find("iframe").attr("src",i.find("iframe").attr("src")+"&api=1&muted=1&loop=1")}if(e.hasClass("glozin-product-video-play")){e.removeClass("glozin-product-video-play")}}}});t()});s(".product-video-loop-thumbnail").on("glozin_lazy_load_image_loaded",function(){if(!s(this).length){return}var e=s(this).find(".glozin-video-wrapper");if(!e.length){return}if(e.hasClass("video-youtube")){if(e.hasClass("video-autoplay")){e.find("iframe").attr("src",e.find("iframe").attr("src")+"&enablejsapi=1&playsinline=1&mute=1&playerapiid=ytplayer&showinfo=0&fs=0&modestbranding=0&rel=0&loop=1&html5=1&autoplay=1&controls=0")}else{e.find("iframe").attr("src",e.find("iframe").attr("src")+"&enablejsapi=1&playsinline=1&mute=1&playerapiid=ytplayer&showinfo=0&fs=0&modestbranding=0&rel=0&loop=1&html5=1&controls=0")}}else if(e.hasClass("video-vimeo")){e.find("iframe").attr("src",e.find("iframe").attr("src")+"&api=1&autoplay=1&muted=1&loop=1&background=1")}})}function t(){var i=s(".woocommerce-product-gallery__wrapper");if(i.length&&i.get(0).swiper){s(document.body).on("glozin_product_gallery_slideChangeTransitionEnd glozin_product_gallery_quickview_slideChangeTransitionEnd",function(){var e=i.find(".swiper-slide");e.each(function(){var e=s(this).find(".glozin-video-wrapper");if(s(this).hasClass("swiper-slide-active")){if(!e.hasClass("video-autoplay")){return}s(this).addClass("glozin-product-video-play");if(e.length>0){if(e.hasClass("video-youtube")){e.find("iframe").get(0).contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}else if(e.hasClass("video-vimeo")){e.find("iframe").get(0).contentWindow.postMessage('{"method":"play","value":""}',"*")}else{e.find("video").get(0).play()}}}else{if(e.length>0){if(e.hasClass("video-youtube")){e.find("iframe").get(0).contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}else if(e.hasClass("video-vimeo")){e.find("iframe").get(0).contentWindow.postMessage('{"method":"pause","value":""}',"*")}else{e.find("video").get(0).pause()}}if(s(this).hasClass("glozin-product-video-play")){s(this).removeClass("glozin-product-video-play")}}})})}else{var e=i.find(".woocommerce-product-gallery__image");e.each(function(){var e=s(this).find(".glozin-video-wrapper");if(e.length>0){if(e.hasClass("video-youtube")){if(e.hasClass("video-autoplay")){e.find("iframe").attr("src",e.find("iframe").attr("src")+"&enablejsapi=1&playsinline=1&mute=1&playerapiid=ytplayer&showinfo=0&fs=0&modestbranding=0&rel=0&loop=1&html5=1&autoplay=1")}else{e.find("iframe").attr("src",e.find("iframe").attr("src")+"&enablejsapi=1&playsinline=1&mute=1&playerapiid=ytplayer&showinfo=0&fs=0&modestbranding=0&rel=0&loop=1&html5=1")}}else if(e.hasClass("video-vimeo")){e.find("iframe").attr("src",e.find("iframe").attr("src")+"&api=1&autoplay=1&muted=1&loop=1")}}if(!e.hasClass("video-autoplay")){return}s(this).addClass("glozin-product-video-play");if(e.length>0){if(e.hasClass("video-youtube")){e.find("iframe").get(0).contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}else if(e.hasClass("video-vimeo")){e.find("iframe").get(0).contentWindow.postMessage('{"method":"play","value":""}',"*")}else{e.find("video").get(0).play()}}})}}s(function(){e();t();s(document.body).on("glozin_product_gallery_quickview_init",function(){t()})})})(jQuery);