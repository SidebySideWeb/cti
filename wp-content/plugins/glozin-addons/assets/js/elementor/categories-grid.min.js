class GlozinCategoriesGridWidgetHandler extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{container:".glozin-categories-grid"}}}getDefaultElements(){const e=this.getSettings("selectors");return{$container:this.$element.find(e.container)}}loadMoreCategories(){var t=this;this.elements.$container.on("click","a.ajax-load-products",function(e){e.preventDefault();var a=jQuery(this);t.loadCategoriesAJAX(a)})}loadCategoriesInfinite(){var e=this;var a=this.elements.$container.find(".woocommerce-pagination");if(!a.hasClass("woocommerce-pagination--infinite")){return}jQuery(window).on("scroll",function(){if(glozinIsVisible(a)){e.loadCategoriesAJAX(a.find(".woocommerce-pagination-button"))}}).trigger("scroll")}loadCategoriesAJAX(r){var e="";if(typeof glozinData!=="undefined"){e=glozinData.ajax_url}else if(typeof wc_add_to_cart_params!=="undefined"){e=wc_add_to_cart_params.wc_ajax_url}if(r.hasClass("loading")){return}var a=r.closest(".glozin-categories-grid"),s=a.find(".glozin-categories-grid__items");r.addClass("loading");jQuery.ajax({type:"POST",url:e.toString().replace("%%endpoint%%","glozin_load_more_categories"),data:{action:"glozin_load_more_categories",page:r.data("page"),number:r.data("number"),button_type:r.data("button-type")},success:e=>{if(!e){return}var a=jQuery(e),t=a.find(".glozin-categories-grid__item"),n=a.find(".woocommerce-pagination-button"),o=n.data("page");t.addClass("gz-fadeinup gz-animated");let i=.5;t.each(function(e,a){jQuery(a).css("--gz-fadeinup-delay",i+"s");i=i+.1});s.append(t);if(t.hasClass("gz-animated")){setTimeout(function(){t.removeClass("gz-animated")},10)}if(!n.length){r.closest(".woocommerce-pagination").remove();r.remove()}else{r.data("page",o)}r.removeClass("loading")}})}onInit(){var e=this;super.onInit();e.loadMoreCategories();e.loadCategoriesInfinite()}}jQuery(window).on("elementor/frontend/init",()=>{elementorFrontend.hooks.addAction("frontend/element_ready/glozin-products-categories-grid.default",e=>{elementorFrontend.elementsHandler.addHandler(GlozinCategoriesGridWidgetHandler,{$element:e})})});