class GlozinProductRecentlyViewedWidgetHandler extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{container:".recently-viewed-products__elementor"}}}getDefaultElements(){const e=this.getSettings("selectors");return{$container:this.$element.find(e.container)}}bindEvents(){this.elements.$container.on("click",".recently-viewed-products__clear-all",function(e){e.preventDefault();let t=new Date;t.setTime(t.getTime()-7*24*60*60*1e3);document.cookie="woocommerce_recently_viewed=; path=/; expires="+t.toUTCString()+";";jQuery(this).addClass("d-none");jQuery(this).closest(".recently-viewed-products__elementor").find(".recently-viewed-products__no-products").removeClass("d-none");jQuery(this).closest(".recently-viewed-products__elementor").find(".recently-viewed-products").remove();jQuery(this).closest(".recently-viewed-products__elementor").find(".recently-viewed-products__empty").removeClass("d-none")})}loadProductsAjax(d,a){var i=a.find("ul.products"),l=a.find(".woocommerce-pagination-button");var e=a.data("settings");var t=this.getAJAXURL();d=d||1;jQuery.post(t.toString().replace("%%endpoint%%","load_recently_viewed_products_elementor"),{limit:e.limit,columns:e.columns,pagination:e.pagination,page:d},function(e){if(!e){return}var t=jQuery(e),n=t.find("li.product"),o=t.find(".woocommerce-pagination-button"),r=o.data("page");if(d==1){a.removeClass("ajax-loading").prepend(e)}else{i.append(n);if(o.length){l.removeClass("loading");l.attr("data-page",r)}else{l.remove()}}jQuery(document.body).trigger("glozin_get_products_ajax_loaded")})}loadRecentlyViewedProducts(){var e=this;var t=this.elements.$container.find(".recently-viewed-products");if(!t.hasClass("has-ajax")){return}t.addClass("ajax-loading");this.loadProductsAjax(1,t)}pageLoadMore(){var n=this,o=this.elements.$container.find(".recently-viewed-products");o.on("click",".woocommerce-pagination-button",function(e){e.preventDefault();var t=jQuery(this).attr("data-page");jQuery(this).addClass("loading");n.loadProductsAjax(t,o)})}getAJAXURL(){var e="";if(typeof glozinData!=="undefined"){e=glozinData.ajax_url}else if(typeof wc_add_to_cart_params!=="undefined"){e=wc_add_to_cart_params.wc_ajax_url}return e}async onInit(){super.onInit();this.loadRecentlyViewedProducts();this.pageLoadMore()}}jQuery(window).on("elementor/frontend/init",()=>{elementorFrontend.hooks.addAction("frontend/element_ready/glozin-product-recently-viewed.default",e=>{elementorFrontend.elementsHandler.addHandler(GlozinProductRecentlyViewedWidgetHandler,{$element:e})});elementorFrontend.hooks.addAction("frontend/element_ready/glozin-product-recently-viewed-carousel.default",e=>{elementorFrontend.elementsHandler.addHandler(GlozinProductRecentlyViewedWidgetHandler,{$element:e})})});