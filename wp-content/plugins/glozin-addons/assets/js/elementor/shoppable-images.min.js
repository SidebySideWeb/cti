class GlozinShoppableImagesCarouselWidgetHandler extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{container:".glozin-shoppable-images-carousel",modal:".shoppable-images-modal"}}}getDefaultElements(){const e=this.getSettings("selectors");return{$container:this.$element.find(e.container),$modal:this.$element.find(e.modal)}}ajaxShoppableImages(){const l=this;jQuery(document.body).on("click",".glozin-shoppable-images-carousel__button-shoppable",function(e){e.preventDefault();var o=jQuery(this),t=o.closest(".glozin-shoppable-images-carousel__item").find(".glozin-shoppable-images-carousel__icon");const n=l.elements.$modal,a=o.data("shoppable_images_id");t.addClass("loading");if(!a){o.removeClass("loading");return}if(parseInt(n.attr("data-shoppable_images_id"))===parseInt(a)){t.removeClass("loading");l.toggleModal(o,n);return}n.find(".modal__shoppable").empty();jQuery(document.body).trigger("glozin_progress_bar_start");jQuery.ajax({url:wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","load_shoppable_images_elementor"),type:"POST",data:{shoppable_images_id:a},success:function(e){if(e.success){n.find(".modal__shoppable").html(e.data);n.find(".product-thumbnail").append('<span class="glozin-shoppable-images__active glozin-svg-icon gz-button gz-button-light gz-button-icon"><svg width="11" height="9" viewBox="0 0 11 9" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.75195 0.751953C9.87044 0.642578 10.0072 0.587891 10.1621 0.587891C10.3262 0.587891 10.4629 0.642578 10.5723 0.751953C10.6908 0.870443 10.75 1.01172 10.75 1.17578C10.75 1.33073 10.6908 1.46289 10.5723 1.57227L4.16016 7.99805C4.05078 8.10742 3.91406 8.16211 3.75 8.16211C3.58594 8.16211 3.44922 8.10742 3.33984 7.99805L0.427734 5.07227C0.309245 4.96289 0.25 4.83073 0.25 4.67578C0.25 4.51172 0.309245 4.37044 0.427734 4.25195C0.537109 4.14258 0.669271 4.08789 0.824219 4.08789C0.988281 4.08789 1.12956 4.14258 1.24805 4.25195L3.75 6.75391L9.75195 0.751953Z" fill="currentColor"/></svg></span>')}},complete:function(){n.attr("data-shoppable_images_id",a);l.toggleModal(o,n);t.removeClass("loading");jQuery(document.body).trigger("glozin_get_products_ajax_loaded");jQuery(document.body).trigger("glozin_get_shoppable_images_loaded");jQuery(document.body).trigger("glozin_progress_bar_complete")}})})}toggleModal(e,o){const t=e.data("target");if(o.hasClass("modal--open")){o.removeClass("modal--open").addClass("modal--closing").fadeOut(800,function(){jQuery(this).removeClass("modal--closing")});jQuery(document.body).removeClass(t+"-opened");jQuery(document.body).removeAttr("style");jQuery(document.body).removeClass("modal-opened").trigger("glozin_modal_closed",[t])}else{var n=window.innerWidth-jQuery("#page").width();if(jQuery("#page").width()<767){n=0}jQuery(document.body).css({"padding-inline-end":n,overflow:"hidden"});o.fadeIn();o.addClass("modal--open");jQuery(document.body).addClass("modal-opened "+t+"-opened").trigger("glozin_modal_opened",[o])}}onInit(...e){super.onInit(...e);this.ajaxShoppableImages()}}class GlozinShoppableImagesWidgetHandler extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{container:".glozin-shoppable-images"}}}getDefaultElements(){const e=this.getSettings("selectors");return{$container:this.$element.find(e.container)}}findHotspots(){jQuery(".glozin-shoppable-images__hotspot").on("mouseenter",function(e){e.preventDefault();var o=jQuery(this).data("product_id"),t=jQuery(this).closest(".glozin-shoppable-images").find("li.product.post-"+o),n=jQuery(this).closest(".glozin-shoppable-images").find("ul.products");if(o===undefined||o===0||o===null){return}if(!n.length){return}if(t.hasClass("active")){return}t.siblings().removeClass("active");t.addClass("active");const a=t.position().left+n.scrollLeft()-parseFloat(n.css("gap"))*(parseFloat(n.children().length)-1);n.animate({scrollLeft:a},500)})}scrollbar(){var e=this.elements.$container.find("ul.products");if(e.length===0){return}if(e.get(0).scrollWidth>e.innerWidth()){e.addClass("has-scrollbar")}else{e.removeClass("has-scrollbar")}}onInit(...e){super.onInit(...e);this.findHotspots();this.scrollbar()}}jQuery(window).on("elementor/frontend/init",()=>{elementorFrontend.hooks.addAction("frontend/element_ready/glozin-shoppable-images-carousel.default",e=>{elementorFrontend.elementsHandler.addHandler(GlozinShoppableImagesCarouselWidgetHandler,{$element:e})});elementorFrontend.hooks.addAction("frontend/element_ready/glozin-shoppable-images.default",e=>{elementorFrontend.elementsHandler.addHandler(GlozinShoppableImagesWidgetHandler,{$element:e})});jQuery(document.body).on("glozin_get_shoppable_images_loaded",function(){jQuery(".elementor-widget-glozin-shoppable-images").each(function(){elementorFrontend.elementsHandler.addHandler(GlozinShoppableImagesWidgetHandler,{$element:jQuery(this)})})})});